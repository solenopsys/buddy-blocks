




 Worker сервис может быть замокан, чтобы упростить нагрузочное тестирование. 


- Для взаимодействия с контроллером должен быть другой объект посредник (который будет хранить кеши и содержать всю необходимую локику которая сейчас размазана по серверу) скажем это будет Worker Service
 
 - Реализация MockWorker service. 
 - Берется файл 512 килобайт
 - в отдельном потоке поднимается 1 воркер и 1 мок сервис. мок сервис тупо выдает одни и те-же адреса блоков мгновенно без задержки
 - тело записывается всегда 0 сектор и длинна исходя из размера
 - Тестирование заключается в том что последовательно записываются в одно и то-же место блоки и читаются начиная от 4кб чтение-запись -1000 шутк и тд и идет измеренение перфоманса, количество запросов и мегабайт в секунду. 

 Второй нагрузочный тест для тестирование самих workerservices в многопоточном режиме и контроллера. 
 Создается инстанс с   16 сервисами и 1 контроллером. 
 И этот инстанс нагружается фейковыммы воркерами которых заменяется один MockWorker, который шлет сообщения в воркеры и измеряет.
 Имитирует операции записи блоков и чтения блоков и удаления, при большой нугрузке. 


0. Создать интерфейс WorkerServiceInterface - который будет содержать несколько методов
  - onBlockInputRequest(size_index: u8)-> {block_num: u64 } - возращает блок заданного размера (номер блока)
  - onHashForBlock(hash: [32]u8, block_num: u64, size_index: u8) - передается хеш, номер блока и размер
  - onFreeBlockRequetst(hash: [32]u8 )->{ block_num: u64, size_index: u8} - передается хеш, возвращается номер блока и размер
  - onBlockAddressRequest(hash: [32]u8)-> {block_num: u64, size_index: u8} - передается хеш, возвращается номер блока и размер
1. Из воркера вынести HttpProcessor () туда передается WorkerServiceInterface - HttpProcessor должен делать только только 2 задачи и делать это идеально
 - записывать на диск 
 - Читать с диска
 - посылать сообщения WorkerService
